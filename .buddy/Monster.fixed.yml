- pipeline: "Monster"
  events:
  - type: "PUSH"
    refs:
    - "refs/heads/main"
  fail_on_prepare_env_warning: true
  actions:
  - action: "        docker_image_tag: latest"
    type: "BUILD"
    docker_image_name: "library/python"
    docker_image_tag: "3.13"
    execute_commands:
    - "version: 2.0"
    - "pipelines:"
    - "  default:"
    - "    name: \"C++ and Python Integration\""
    - "    trigger_mode: \"ON_EVERY_PUSH\""
    - "    actions:"
    - "      - action: \"Run C++ Build\""
    - "        type: \"BUILD\""
    - "        pipeline:"
    - "          steps:"
    - "            - run:"
    - "                name: \"Compile C++\""
    - "                command: |"
    - "                  g++ -o monster monster.cpp"
    - "            - run:"
    - "                name: \"Run C++ Application\""
    - "                command: |"
    - "                  ./monster"
    - "      - action: \"Run Python Script\""
    - "        type: \"BUILD\""
    - "        pipeline:"
    - "          steps:"
    - "            - run:"
    - "                name: \"Install Python Dependencies\""
    - "                command: |"
    - "                  pip install -r requirements.txt"
    - "            - run:"
    - "                name: \"Run Python Script\""
    - "                command: |"
    - "                  python3 monster.py"
    - "                  "
    cached_dirs:
    - "/root/.cache/pip"
    shell: "BASH"
